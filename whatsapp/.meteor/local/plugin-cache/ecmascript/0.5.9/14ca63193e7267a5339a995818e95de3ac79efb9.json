{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck"],"marked":[],"modules":{"imports":[{"source":"meteor/underscore","imported":["_"],"specifiers":[{"kind":"named","imported":"_","local":"_"}]},{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"angular-ecmascript/module-helpers","imported":["Filter"],"specifiers":[{"kind":"named","imported":"Filter","local":"Filter"}]}],"exports":{"exported":["ChatNameFilter"],"specifiers":[{"kind":"local","local":"ChatNameFilter","exported":"default"}]}}},"options":{"filename":"/client/scripts/filters/chat-name.filter.js","filenameRelative":"/client/scripts/filters/chat-name.filter.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/scripts/filters/chat-name.filter.js.map","sourceFileName":"/client/scripts/filters/chat-name.filter.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"chat-name.filter"},"ignored":false,"code":"var _classCallCheck;module.import('babel-runtime/helpers/classCallCheck',{\"default\":function(v){_classCallCheck=v}});var _possibleConstructorReturn;module.import('babel-runtime/helpers/possibleConstructorReturn',{\"default\":function(v){_possibleConstructorReturn=v}});var _inherits;module.import('babel-runtime/helpers/inherits',{\"default\":function(v){_inherits=v}});var _;module.import('meteor/underscore',{\"_\":function(v){_=v}});var Meteor;module.import('meteor/meteor',{\"Meteor\":function(v){Meteor=v}});var Filter;module.import('angular-ecmascript/module-helpers',{\"Filter\":function(v){Filter=v}});\n\n\n\n\n\n\nvar ChatNameFilter = function (_Filter) {\n  _inherits(ChatNameFilter, _Filter);\n\n  function ChatNameFilter() {\n    _classCallCheck(this, ChatNameFilter);\n\n    return _possibleConstructorReturn(this, _Filter.apply(this, arguments));\n  }\n\n  ChatNameFilter.prototype.filter = function () {\n    function filter(chat) {\n      if (!chat) return;\n\n      var otherId = _.without(chat.userIds, Meteor.userId())[0];\n      var otherUser = Meteor.users.findOne(otherId);\n      var hasName = otherUser && otherUser.profile && otherUser.profile.name;\n\n      return hasName ? otherUser.profile.name : chat.name || 'NO NAME';\n    }\n\n    return filter;\n  }();\n\n  return ChatNameFilter;\n}(Filter);\n\nmodule.export(\"default\",exports.default=(ChatNameFilter));\n\n\nChatNameFilter.$name = 'chatName';","ast":null,"map":{"version":3,"sources":["/client/scripts/filters/chat-name.filter.js"],"names":["_","Meteor","Filter","ChatNameFilter","filter","chat","otherId","without","userIds","userId","otherUser","users","findOne","hasName","profile","name","$name"],"mappings":";;;AAAA,SAASA,CAAT,QAAkB,mBAAlB;AACA,SAASC,MAAT,QAAuB,eAAvB;AACA,SAASC,MAAT,QAAuB,mCAAvB;;IAEqBC,c;;;;;;;;;2BACnBC,M;oBAAOC,I,EAAM;AACX,UAAI,CAACA,IAAL,EAAW;;AAEX,UAAIC,UAAUN,EAAEO,OAAF,CAAUF,KAAKG,OAAf,EAAwBP,OAAOQ,MAAP,EAAxB,EAAyC,CAAzC,CAAd;AACA,UAAIC,YAAYT,OAAOU,KAAP,CAAaC,OAAb,CAAqBN,OAArB,CAAhB;AACA,UAAIO,UAAUH,aAAaA,UAAUI,OAAvB,IAAkCJ,UAAUI,OAAV,CAAkBC,IAAlE;;AAEA,aAAOF,UAAUH,UAAUI,OAAV,CAAkBC,IAA5B,GAAmCV,KAAKU,IAAL,IAAa,SAAvD;AACD;;;;;;EATyCb,M;;eAAvBC,c;;;AAYrBA,eAAea,KAAf,GAAuB,UAAvB","file":"/client/scripts/filters/chat-name.filter.js.map","sourcesContent":["import { _ } from 'meteor/underscore';\nimport { Meteor } from 'meteor/meteor';\nimport { Filter } from 'angular-ecmascript/module-helpers';\n\nexport default class ChatNameFilter extends Filter {\n  filter(chat) {\n    if (!chat) return;\n\n    let otherId = _.without(chat.userIds, Meteor.userId())[0];\n    let otherUser = Meteor.users.findOne(otherId);\n    let hasName = otherUser && otherUser.profile && otherUser.profile.name;\n\n    return hasName ? otherUser.profile.name : chat.name || 'NO NAME';\n  }\n}\n\nChatNameFilter.$name = 'chatName';\n"]},"hash":"14ca63193e7267a5339a995818e95de3ac79efb9"}
